<app-layout>
    <app-header></app-header>
    <app-main-content>
        <app-content-left>
            <!-- CATEGORY SCREEN-->
            <div *ngIf="selectedCategory.id === 0 || selectedCategory.id === undefined">
                <category-tree [agentId]="agentId" [selectionMode]="'single'" (selectNode)="onSelectCategory($event)"
                    (unselectNode)="onUnselectCategory($event)"></category-tree>
            </div>
            <!-- QNA LIST SCREEN-->
            <div *ngIf="selectedCategory.id  > 0 || selectedCategory.id === -1">
                <button (click)="toggle()" class="btn m-btn m-btn--gradient-from-primary m-btn--gradient-to-focus">Go
                    Full Screen
                </button>
                <button (click)="onUnselectCategory($event)" class="btn m-btn m-btn--gradient-from-primary m-btn--gradient-to-focus">Go
                    back
                </button>
                <qna-grid (selectedQnA)="onSelectQnA($event)" (unselectedQnA)="onUnselectQnA($event)" (searchLazyLoad)="onLoadGrid($event);"
                    (reloadGrid)="onLoadGrid($event);" [totals]="dataGridConfig.totals" [enableLazyLoad]="true" [qnAs]="qnAsGrid">
                </qna-grid>
                <div *ngIf="!openQnAForm">
                    <button (click)="createQnA();" class="btn m-btn m-btn--gradient-from-primary m-btn--gradient-to-focus">
                        <i class="la la-plus"></i>Add Q&A
                    </button>
                </div>
            </div>
            <!-- QNA DETAIL -->
            <div *ngIf="(!isFullScreen && (selectedQnA.id  > 0 || selectedQnA.id === -1))">
                <qna-detail (delete)="deleteQnA()" (edit)="editQnA()" [model]="selectedQnA"></qna-detail>
            </div>
        </app-content-left>
        <app-content-right *ngIf="isFullScreen">
            <div *ngIf="selectedQnA === undefined">
                no content!
            </div>
            <!-- QNA DETAIL -->
            <div *ngIf="showDetailsQnA && selectedQnA.id  > 0">
                <qna-detail (delete)="deleteQnA()" (edit)="editQnA()" [model]="selectedQnA"></qna-detail>
            </div>
            <!-- QNA FORM -->
            <div *ngIf="openQnAForm">
                <qna-form [model]="selectedQnA"></qna-form>
            </div>
        </app-content-right>
    </app-main-content>
</app-layout>